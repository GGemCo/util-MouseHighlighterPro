
<Window x:Class="MouseHighlighterPro.Windows.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:render="clr-namespace:MouseHighlighterPro.Rendering"
        Title="Mouse Highlighter Pro - 설정"
        Width="560" Height="720"
        MinWidth="520" MinHeight="640"
        WindowStartupLocation="CenterScreen">
    <DockPanel LastChildFill="True">

        <!-- Bottom buttons (fixed) -->
        <Border DockPanel.Dock="Bottom" Background="#F6F6F6" BorderBrush="#DDD" BorderThickness="1,1,1,0" Padding="12">
            <DockPanel LastChildFill="False">
                <TextBlock Text="단축키: Ctrl+Alt+M(토글), Ctrl+Alt+O(설정)"
                           Foreground="#666" VerticalAlignment="Center" />
                <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="취소" Width="100" Margin="0,0,8,0" Command="{Binding CancelCommand}"/>
                    <Button Content="저장" Width="100" Command="{Binding SaveCommand}"/>
                </StackPanel>
            </DockPanel>
        </Border>

        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="16" Orientation="Vertical">

                <!-- Overlay -->
                <TextBlock Text="오버레이" FontSize="18" FontWeight="SemiBold" />
                <StackPanel Orientation="Horizontal" Margin="0,8,0,0" VerticalAlignment="Center">
                    <CheckBox Content="오버레이 활성화" IsChecked="{Binding OverlayEnabled}" VerticalAlignment="Center"/>
                    <TextBlock Text="  FPS" VerticalAlignment="Center" Margin="16,0,0,0"/>
                    <Slider Width="180" Minimum="15" Maximum="144" Value="{Binding TargetFps}" TickFrequency="1" IsSnapToTickEnabled="True" />
                    <TextBlock Text="{Binding TargetFps}" Width="44" VerticalAlignment="Center" Margin="8,0,0,0"/>
                </StackPanel>

                <Separator Margin="0,14,0,14"/>

                <!-- Circle style + Preview -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="170"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0" Orientation="Vertical">
                        <TextBlock Text="원 스타일" FontSize="18" FontWeight="SemiBold" />
                        <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                            <TextBlock Text="반지름" Width="70" VerticalAlignment="Center"/>
                            <Slider Width="260" Minimum="1" Maximum="150" Value="{Binding Radius}" />
                            <TextBlock Text="{Binding Radius, StringFormat=F0}" Width="56" VerticalAlignment="Center" Margin="8,0,0,0"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                            <TextBlock Text="두께" Width="70" VerticalAlignment="Center"/>
                            <Slider Width="260" Minimum="1" Maximum="30" Value="{Binding Thickness}" />
                            <TextBlock Text="{Binding Thickness, StringFormat=F0}" Width="56" VerticalAlignment="Center" Margin="8,0,0,0"/>
                        </StackPanel>

                        <TextBlock Text="Fill (RGBA)" Margin="0,14,0,0" FontWeight="SemiBold"/>
                        <StackPanel Orientation="Horizontal" Margin="0,6,0,0">
                            <TextBlock Text="A" Width="20" VerticalAlignment="Center"/>
                            <Slider Width="180" Minimum="0" Maximum="1" Value="{Binding FillA}" />
                            <TextBlock Text="{Binding FillA, StringFormat=F2}" Width="56" VerticalAlignment="Center" Margin="8,0,0,0"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,6,0,0">
                            <TextBlock Text="R" Width="20" VerticalAlignment="Center"/>
                            <Slider Width="180" Minimum="0" Maximum="255" Value="{Binding FillR}" />
                            <TextBlock Text="{Binding FillR}" Width="44" VerticalAlignment="Center" Margin="8,0,0,0"/>
                            <TextBlock Text="G" Width="20" VerticalAlignment="Center" Margin="12,0,0,0"/>
                            <Slider Width="180" Minimum="0" Maximum="255" Value="{Binding FillG}" />
                            <TextBlock Text="{Binding FillG}" Width="44" VerticalAlignment="Center" Margin="8,0,0,0"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,6,0,0">
                            <TextBlock Text="B" Width="20" VerticalAlignment="Center"/>
                            <Slider Width="180" Minimum="0" Maximum="255" Value="{Binding FillB}" />
                            <TextBlock Text="{Binding FillB}" Width="44" VerticalAlignment="Center" Margin="8,0,0,0"/>
                        </StackPanel>

                        <TextBlock Text="Stroke (RGBA)" Margin="0,14,0,0" FontWeight="SemiBold"/>
                        <StackPanel Orientation="Horizontal" Margin="0,6,0,0">
                            <TextBlock Text="A" Width="20" VerticalAlignment="Center"/>
                            <Slider Width="180" Minimum="0" Maximum="1" Value="{Binding StrokeA}" />
                            <TextBlock Text="{Binding StrokeA, StringFormat=F2}" Width="56" VerticalAlignment="Center" Margin="8,0,0,0"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,6,0,0">
                            <TextBlock Text="R" Width="20" VerticalAlignment="Center"/>
                            <Slider Width="180" Minimum="0" Maximum="255" Value="{Binding StrokeR}" />
                            <TextBlock Text="{Binding StrokeR}" Width="44" VerticalAlignment="Center" Margin="8,0,0,0"/>
                            <TextBlock Text="G" Width="20" VerticalAlignment="Center" Margin="12,0,0,0"/>
                            <Slider Width="180" Minimum="0" Maximum="255" Value="{Binding StrokeG}" />
                            <TextBlock Text="{Binding StrokeG}" Width="44" VerticalAlignment="Center" Margin="8,0,0,0"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,6,0,0">
                            <TextBlock Text="B" Width="20" VerticalAlignment="Center"/>
                            <Slider Width="180" Minimum="0" Maximum="255" Value="{Binding StrokeB}" />
                            <TextBlock Text="{Binding StrokeB}" Width="44" VerticalAlignment="Center" Margin="8,0,0,0"/>
                        </StackPanel>

                        <TextBlock Text="그림자" Margin="0,14,0,0" FontWeight="SemiBold"/>
                        <StackPanel Orientation="Horizontal" Margin="0,6,0,0">
                            <TextBlock Text="Blur" Width="70" VerticalAlignment="Center"/>
                            <Slider Width="260" Minimum="0" Maximum="60" Value="{Binding ShadowBlur}" />
                            <TextBlock Text="{Binding ShadowBlur, StringFormat=F0}" Width="56" VerticalAlignment="Center" Margin="8,0,0,0"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                            <TextBlock Text="Opacity" Width="70" VerticalAlignment="Center"/>
                            <Slider Width="260" Minimum="0" Maximum="1" Value="{Binding ShadowOpacity}" />
                            <TextBlock Text="{Binding ShadowOpacity, StringFormat=F2}" Width="56" VerticalAlignment="Center" Margin="8,0,0,0"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- Preview (uses same renderer as overlay) -->
                    <StackPanel Grid.Column="1" Orientation="Vertical" HorizontalAlignment="Right">
                        <TextBlock Text="미리보기" FontWeight="SemiBold" Margin="0,0,0,8" />
                        <Border Width="160" Height="160" CornerRadius="12" Background="#FFFFFF" BorderBrush="#DDD" BorderThickness="1">
                            <Grid>
                                <render:OverlaySurface x:Name="PreviewSurface" />
                            </Grid>
                        </Border>
                        <TextBlock Text="실제 렌더러 기반 미리보기"
                                   Foreground="#777" FontSize="11" Margin="0,8,0,0" TextAlignment="Center"/>
                    </StackPanel>
                </Grid>

                <Separator Margin="0,14,0,14"/>

                <!-- Click pulse -->
                <TextBlock Text="클릭 펄스" FontSize="18" FontWeight="SemiBold" />
                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                    <CheckBox Content="활성화" IsChecked="{Binding ClickPulseEnabled}" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                    <TextBlock Text="Scale" Width="70" VerticalAlignment="Center"/>
                    <Slider Width="260" Minimum="1" Maximum="2.5" Value="{Binding PulseScale}" />
                    <TextBlock Text="{Binding PulseScale, StringFormat=F2}" Width="56" VerticalAlignment="Center" Margin="8,0,0,0"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                    <TextBlock Text="Duration(ms)" Width="90" VerticalAlignment="Center"/>
                    <Slider Width="240" Minimum="30" Maximum="400" Value="{Binding PulseDurationMs}" TickFrequency="10" />
                    <TextBlock Text="{Binding PulseDurationMs}" Width="56" VerticalAlignment="Center" Margin="8,0,0,0"/>
                </StackPanel>

                <Border Height="10" Background="Transparent"/>
            </StackPanel>
        </ScrollViewer>
    </DockPanel>
</Window>
